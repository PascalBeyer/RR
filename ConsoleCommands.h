#ifndef RR_CONSOLECOMMANDS
#define RR_CONSOLECOMMANDS

static char lorum[] = "Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.";



static void HelloHelper(StringArray args)
{
	ConsoleOutput("Hello!");
}

static void LorumHelper(StringArray args)
{
	ConsoleOutput(lorum);
}

static void AddHelper(StringArray args)
{
	b32 success = true;
	u32 inp1 = StoU(args[0], &success);
	u32 inp2 = StoU(args[1], &success);

	if (!success)
	{
		ConsoleOutput("Arguments did not match!");
		return;
	}

	u32 sum = inp1 + inp2;
	ConsoleOutput("%i32 + %i32 = %i32", inp1, inp2, sum);
}


static void ClearHelper(StringArray args)
{
	console.commandHistory->length = 0;
	console.historyLength = 0;
	console.historyPos = 0;
	Clear(console.arena);
}

static void HelpHelper(StringArray args)
{
	ConsoleOutput("Console Commands are:");

	For(console.commands)
	{
		ConsoleOutput("    %s", it->name);
	}
}

static Tweeker *GetTweeker(String name)
{
	For(globalDebugState.tweekers)
	{
		if (name == it->name)
		{
			return it;
		}
	}
	return NULL;
}

static String TweekerToString(Tweeker t, Arena *arena = frameArena)
{
	switch (t.type)
	{
	case Tweeker_b32:
	{
		if (t.b)
		{
			return S("true", arena);
		}
		return S("false", arena);

	}break;
	case Tweeker_u32:
	{
		return UtoS(t.u, arena);
	}break;
	case Tweeker_f32:
	{
		return FtoS(t.f, arena);
	}break;

	case Tweeker_v2:
	{
		return V2toS(t.vec2, arena);
	}break;

	case Tweeker_v3:
	{
		return V3toS(t.vec3, arena);
	}break;
	case Tweeker_v4:
	{
		return V4toS(t.vec4, arena);
	}break;
	default:
		break;
	}
	return S("");
}

static void WriteDebugVariables();

static void TweekHelper(StringArray args)
{
	if (args.amount == 0)
	{
		For(globalDebugState.tweekers)
		{
			ConsoleOutput("%s %s", it->name, TweekerToString(*it));
		}

		return;
	}

	Tweeker *toTweek = GetTweeker(args[0]);
	
	if(!toTweek) 
	{
		ConsoleOutput("Error: Tweeker not found!", HistoryEntry_Error); // nearest match?
		return;
	}

	if (args.amount == 1)
	{
		ConsoleOutput("Current Tweeker Value is: %s", TweekerToString(*toTweek)); //todo may this should open tweeker gui?
		return;
	}

	Tweeker save = *toTweek;
	b32 success = true;
	switch (toTweek->type)
	{
	case Tweeker_b32:
	{	
		b32 val = StoB(args[1], &success);
		if (success) toTweek->b = val;
	}break;
	case Tweeker_u32:
	{
		u32 val = StoU(args[1], &success);
		if (success) toTweek->u = val;
	}break;
	case Tweeker_f32:
	{
		f32 val = StoF(args[1], &success);
		if (success) toTweek->f = val;
	}break;

	case Tweeker_v2:
	{
		v2 val = StoV2(args[1], &success);
		if (success) toTweek->vec2 = val;
	}break;

	case Tweeker_v3:
	{
		v3 val = StoV3(args[1], &success);
		if (success) toTweek->vec3 = val;
	}break;
	case Tweeker_v4:
	{
		v4 val = StoV4(args[1], &success);
		if (success) toTweek->vec4 = val;
	}break;
	default:
		ConsoleOutputError("Unhandled Tweeker Type in Tweek Helper!");
		return;
	}

	if (!success)
	{
		ConsoleOutputError("Could not parse the value for tweeker %s", toTweek->name);
		ConsoleOutputError("Value remains: %s", TweekerToString(*toTweek));
		return;
	}

	ConsoleOutput("Tweeked %s: %s -> %s!", toTweek->name, TweekerToString(save), TweekerToString(*toTweek));
}

static void SaveTweekersHelper(StringArray args)
{
	if (args[0] == "tweekers")
	{
		WriteDebugVariables();
		ConsoleOutput("Saved Tweekers!");
		return;
	}
	

	ConsoleOutput("Don't know what to save! (Could not read input).");
}


#endif // ! RR_CONSOLECOMMANDS

